é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€
classå’Œstructçš„åŒºåˆ«åœ¨äºï¼šé»˜è®¤è®¿é—®æƒé™ä¸åŒ
- structé»˜è®¤å…¬æœ‰
- classé»˜è®¤ç§æœ‰
# åŸºæœ¬
å®šä¹‰ç±»çš„æ–¹æ³•
å®šä¹‰æˆå‘˜å‡½æ•°
åˆ›å»ºç±»çš„å¯¹è±¡
æƒé™ï¼š

| æƒé™        | ç±»å¤–  | å­ç±»  | æœ¬èº«  |
| --------- | --- | --- | --- |
| public    | å¯   | å¯   | å¯   |
| protected | ä¸å¯  | å¯   | å¯   |
| private   | ä¸å¯  | ä¸å¯  | å¯   |

## æ„é€ å‡½æ•°
åˆ†ç±»ï¼š
	æœ‰å‚æ„é€     æ— å‚æ„é€ 
	æ™®é€šæ„é€     æ‹·è´æ„é€ 
- åœ¨åˆ›å»ºæ–°å¯¹è±¡æ—¶æ‰§è¡Œ 
- æ„é€ å‡½æ•°çš„åç§° =ç±»çš„åç§°
- ä¸ä¼šè¿”å›ä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬ void
- å¯ç”¨äºä¸ºæŸäº›æˆå‘˜å˜é‡è®¾ç½®åˆå§‹å€¼
- å¯ä»¥ä½¿ç”¨åˆå§‹åŒ–å­—æ®µä¸ºå˜é‡èµ‹å€¼

```cpp
#include "iostream"
using namespace std; 

class Box
{
	private:
		int l;
		int w;
		int h;
	public:
		Box(int,int,int);  //å£°æ˜æ„é€ å‡½æ•°ğŸ”´ğŸ”´ğŸ”´
		~Box()//å£°æ˜æŠ˜æ„å‡½æ•°ğŸ”´ğŸ”´ğŸ”´
		void info(); 
};

Box::Box(int a,int b,int c)  //å®šä¹‰æ„é€ å‡½æ•°ğŸ”´ğŸ”´ğŸ”´
{
	cout<<"å·²åˆ›å»ºbox"<<endl;
	l = a;
	w = b;
	h = c;
}
Box::~Box();  //å®šä¹‰æŠ˜æ„å‡½æ•°ğŸ”´ğŸ”´ğŸ”´
{
	cout<<"å·²åˆ é™¤"<<endl;
}
void Box::info()
{
	cout<<l<<w<<h<<endl ;
}

int main(void)
{
	Box box1(5,3,7);
	Box box2(1,6,7);
	box1.info();
	box2.info();
}
/*ç»“æœï¼š
å·²åˆ›å»ºbox
å·²åˆ›å»ºbox
537
167
*/
```

```cpp
//ä¹Ÿå¯ä»¥è¿™æ ·å†™
Box::Box(int a,int b,int c):l(a),w(b),h(c)  //ä½¿ç”¨åˆå§‹åŒ–å­—æ®µğŸ”´ğŸ”´ğŸ”´
{
	cout<<"å·²åˆ›å»ºbox"<<endl;
}
//å’Œä¸‹é¢ç­‰ä»·
Box::Box(int a,int b,int c)
{
	l = a;
	w = b;
	h = c;
	cout<<"å·²åˆ›å»ºbox"<<endl;
} 
```
## ææ„å‡½æ•°
* åœ¨æ¯æ¬¡åˆ é™¤æ‰€åˆ›å»ºçš„å¯¹è±¡æ—¶æ‰§è¡Œ
* æ„é€ å‡½æ•°çš„åç§° = ~ç±»çš„åç§°
* ä¸ä¼šè¿”å›ä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬ voidï¼Œä¸èƒ½å¸¦æœ‰ä»»ä½•å‚æ•°
* ç”¨äºåœ¨è·³å‡ºç¨‹åºï¼ˆæ¯”å¦‚å…³é—­æ–‡ä»¶ã€é‡Šæ”¾å†…å­˜ç­‰ï¼‰å‰é‡Šæ”¾èµ„æºï¼Œé‡ç½®å¯¹è±¡çš„æˆå‘˜å˜é‡
## æ‹·è´æ„é€ å‡½æ•°
ä¸€ç§ç‰¹æ®Šçš„æ„é€ å‡½æ•°ï¼Œå®ƒåœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œæ˜¯ä½¿ç”¨åŒä¸€ç±»ä¸­ä¹‹å‰åˆ›å»ºçš„å¯¹è±¡æ¥åˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚æ‹·è´æ„é€ å‡½æ•°é€šå¸¸ç”¨äºï¼š
- é€šè¿‡ä½¿ç”¨å¦ä¸€ä¸ª åŒç±»å‹çš„å¯¹è±¡ æ¥åˆå§‹åŒ– æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚
- å¤åˆ¶å¯¹è±¡æŠŠå®ƒä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼š
	`void function(Person p)`  æ¥å—`p`æ—¶ä¼šæ‹·è´ä¼ å…¥çš„å¯¹è±¡
- å¤åˆ¶å¯¹è±¡ï¼Œå¹¶ä»å‡½æ•°è¿”å›è¿™ä¸ªå¯¹è±¡ï¼š
	`Person fuc(){return p;}`  è¿”å›`Person`å¯¹è±¡æ—¶,ä¼šæ‹·è´å‡½æ•°ä½“ä¸­å¯¹è±¡`p`ï¼Œç„¶åè¿”å›
å¦‚æœåœ¨ç±»ä¸­æ²¡æœ‰å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šè‡ªè¡Œå®šä¹‰ä¸€ä¸ªã€‚å¦‚æœç±»å¸¦æœ‰æŒ‡é’ˆå˜é‡ï¼Œå¹¶æœ‰åŠ¨æ€å†…å­˜åˆ†é…ï¼Œåˆ™å®ƒå¿…é¡»æœ‰ä¸€ä¸ªæ‹·è´æ„é€ å‡½æ•°ï¼ˆæµ…æ‹·è´ä¼šå¸¦æ¥é—®é¢˜ï¼‰ã€‚

```cpp
#include "iostream"
using namespace std; 
class Per{
public:
	int n = 1; 
	Per();
	Per(int);  //æ„é€ å‡½æ•°é‡è½½
	Per(const Per &p);  //æ‹·è´æ„é€ å‡½æ•°ğŸ”´ğŸ”´ğŸ”´
	~Per();
};
Per::Per(){
	cout<<"Peræ— å‚æ„é€ "<<endl;
}
Per::Per(int a):n(a)
{
	cout<<"Peræœ‰å‚æ„é€ ï¼š"<<a<<endl;
}
Per::Per(const Per &p){  //æ‹·è´æ„é€ å‡½æ•°ğŸ”´ğŸ”´ğŸ”´
	cout<<"Peræ‹·è´æ„é€ "<<endl;
	n = p.n; 
}
Per::~Per(){
	cout<<"Perææ„\n";
} 

int main()
{
	Per per1;   //æ³¨æ„ï¼šè°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°æ—¶ï¼Œä¸è¦åŠ ()ï¼Œå¦åˆ™ä¼šè¢«è§†ä¸ºå‡½æ•°å£°æ˜
	Per per2(5);
	Per per3(per2);
	/*ä¹Ÿå¯ä»¥è¿™æ ·
	Per per2 = Per(5)
	Per(5)æ˜¯ä¸€ä¸ªåŒ¿åå¯¹è±¡
	æ³¨æ„ï¼šä¸è¦ç”¨æ‹·è´æ„é€ åŒ¿åå¯¹è±¡ï¼šPer(per2) --> Per per2
	
	ä¹Ÿå¯ä»¥è¿™æ ·ï¼š
	Per per2 = 5
	ä¼šè¢«éšå¼è½¬æ¢ä¸ºPer per2 = Per(5)
	*/
	cout<<"per1çš„nï¼š"<<per1.n<<endl;
	cout<<"per2çš„nï¼š"<<per2.n<<endl;
	cout<<"per3çš„nï¼š"<<per3.n<<endl;
	
	return 0; 
} 

è¾“å‡ºï¼š
Peræ— å‚æ„é€ 
Peræœ‰å‚æ„é€ ï¼š5
Peræ‹·è´æ„é€ 
per1çš„nï¼š1
per2çš„nï¼š5
per3çš„nï¼š5
Perææ„
Perææ„
Perææ„
```

> [!NOTE] æ³¨æ„
> ç¼–è¯‘å™¨é»˜è®¤æä¾›
> 	- é»˜è®¤æ„é€ å‡½æ•°ï¼ˆæ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©ºï¼‰
> 	- æ‹·è´ææ„å‡½æ•°ï¼ˆæ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©ºï¼‰
> 	- é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ï¼ˆå¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´ï¼‰
> 	
>è‹¥ç”¨æˆ·æä¾› æ„é€ å‡½æ•°ï¼ŒC++ä¸æä¾›é»˜è®¤æ„é€ å‡½æ•°ï¼Œæä¾›é»˜è®¤æ‹·è´æ„é€ å‡½æ•°
>è‹¥ç”¨æˆ·æä¾› æ‹·è´æ„é€ å‡½æ•°ï¼ŒC++ä¸æä¾›**é»˜è®¤æ„é€ å‡½æ•°**å’Œ**é»˜è®¤æ‹·è´æ„é€ å‡½æ•°**


### æ·±æ‹·è´å’Œæµ…æ‹·è´

æµ…æ‹·è´ï¼šåªæ˜¯æ‹·è´å€¼
æ·±æ‹·è´ï¼šåŒæ—¶æ–°å»ºå†…å­˜

```cpp
#include "iostream"
using namespace std; 
class Per{
public:
	int* h;
	Per(int);
	Per(const Per &p);
	~Per();
};

Per::Per(int a){
	h = new int(a);
	cout<<"Peræœ‰å‚æ„é€ ï¼š"<<h<<endl;
}
Per::Per(const Per &p){
	cout<<"Peræ‹·è´æ„é€ "<<endl;
	h = p.h; 
}
Per::~Per(){
	if(h !=NULL)
	{
		delete h;
		h = NULL;
	}
	cout<<"Perææ„å®Œæˆ\n";
} 

int main()
{
	Per per2(5);
	Per per3(per2);
	
	cout<<"per2çš„hï¼š"<<per2.h<<endl;
	cout<<"per3çš„hï¼š"<<per3.h<<endl;
	
	return 0; 
} 
ç»“æœï¼š
Peræœ‰å‚æ„é€ ï¼š0xc81520
Peræ‹·è´æ„é€ 
per2çš„hï¼š0xc81520
per3çš„hï¼š0xc81520
Perææ„å®Œæˆ
//æ²¡æœ‰ææ„per2ï¼ˆæ³¨æ„æ ˆä¸­å…ˆè¿›åå‡ºï¼‰
--------------------------------
Process exited after 5.026 seconds with return value 3221226356
```
ä¸Šè¿°ç¨‹åºä¼šå…ˆè°ƒç”¨per3çš„ææ„å‡½æ•°ï¼Œé‡Šæ”¾per3.hæŒ‡å‘çš„å†…å­˜0xc81520ï¼Œç„¶åè°ƒç”¨per2çš„ææ„å‡½æ•°ï¼Œå†æ¬¡é‡Šæ”¾per2.hæŒ‡å‘çš„å†…å­˜0xc81520ï¼Œå¯¼è‡´æŠ¥é”™
```cpp
Per::Per(const Per &p){
	cout<<"Peræ‹·è´æ„é€ "<<endl;
	h = new int(*p.h); 
}
```
è¿™æ ·å³å¯è§£å†³é—®é¢˜
è¾“å‡ºï¼š
```powershell
Peræœ‰å‚æ„é€ ï¼š0xd11520
Peræ‹·è´æ„é€ 
per2çš„hï¼š0xd11520
per3çš„hï¼š0xd11540
Perææ„å®Œæˆ
Perææ„å®Œæˆ
--------------------------------
Process exited after 0.3486 seconds with return value 0
```
### å¯¹è±¡ä½œä¸ºç±»æˆå‘˜
```cpp
#include "iostream"
#include "string"

using namespace std; 
class Pho{
public: 
	string name;
	Pho();
	~Pho();
};
class Per{
public:
	Pho phone;
	Per(string na);
	~Per();
};
//Phoçš„å‡½æ•° 
Pho::Pho(){
	cout<<"Phoæ„é€ \n";
} 
Pho::~Pho(){
	cout<<"Peoææ„å®Œæˆ\n";
}
//Perçš„å‡½æ•°
Per::Per(string na){
	phone.name = na;
	cout<<"Peræ„é€ ï¼š"<<phone.name<<endl;
}
Per::~Per(){
	cout<<"Perææ„å®Œæˆ\n";
} 

int main()
{
	Per person("å°ç±³");
	cout<<"personçš„æ‰‹æœºæ˜¯ï¼š"<<person.phone.name<<endl; 
	return 0; 
} 
ç»“æœï¼š
Phoæ„é€ 
Peræ„é€ ï¼šå°ç±³
personçš„æ‰‹æœºæ˜¯ï¼šå°ç±³
Perææ„å®Œæˆ
Peoææ„å®Œæˆ
```
ç”±æ­¤å¯è§ï¼Œå¯¹è±¡çš„å¯¹è±¡æˆå‘˜å…ˆè¢«æ„é€ ï¼Œå…ˆè¢«ææ„
## é™æ€æˆå‘˜å˜é‡
é™æ€æˆå‘˜å˜é‡é€šå¸¸åœ¨ç±»å†…å®šä¹‰ï¼Œç±»å¤–åˆå§‹åŒ–ï¼Œæ‰€æœ‰å¯¹è±¡å…¬ç”¨åŒä¸€ä»½æ•°æ®
```cpp
#include "iostream"

using namespace std; 
class Per{
public: 
	static int a;  //ç±»å†…å®šä¹‰	
};

int Per::a = 15;  //ç±»å¤–åˆå§‹åŒ–ï¼Œä¸ç”¨åŠ static 

int main()
{
	Per p1;
	Per p2;
	
	cout<<p1.a<<endl;  //15
	p2.a = 10; 
	cout<<p2.a<<endl;  //10
	cout<<p1.a<<endl;  //10ï¼Œæ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä»½æ•°æ® 
	cout<<Per::a<<endl;//10ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç±»è®¿é—® 
	
	return 0; 
} 
```
## é™æ€æˆå‘˜å‡½æ•°
æ‰€æœ‰å¯¹è±¡å…±æœ‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç±»åè®¿é—®ï¼Œä½†æ˜¯åªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡

# C++å¯¹è±¡æ¨¡å‹å’ŒthisæŒ‡é’ˆ
## å¯¹è±¡ç‰¹æ€§
- ç©ºå¯¹è±¡ä¼šå ç”¨1ä¸ªå­—èŠ‚ï¼Œæ˜¯ä¸ºäº†åŒºåˆ†ä¸åŒå¯¹è±¡ï¼Œå¯¹è±¡å¿…é¡»æœ‰ç‹¬ä¸€æ— äºŒçš„åœ°å€
- æˆå‘˜å˜é‡ å’Œ æˆå‘˜å‡½æ•° åˆ†å¼€å­˜å‚¨
- é™æ€æˆå‘˜å˜é‡ ä¸å±äºå¯¹è±¡ä¸Š
```cpp
class Pen{
public:
	int a = 10;
	static int b = 20;  //ä¸å å¯¹è±¡å†…å­˜
	void fuc(){}  //ä¸å å¯¹è±¡å†…å­˜
};//å ç”¨4ä¸ªå­—èŠ‚

Pen pen1;
sizeof pen1; //4
```
## thisæŒ‡é’ˆ
- æŒ‡å‘ è°ƒç”¨thisæŒ‡é’ˆçš„å¯¹è±¡ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¸¸é‡
- å¯ç”¨äºåŒºåˆ†é‡å
- å¯ä»¥è¿”å›å¯¹è±¡æœ¬èº«
```cpp
#include "iostream"

using namespace std; 

class Per{
public: 
	int age;
	Per(int);
};

Per::Per(int age){
	this->age = age; //è‹¥æ— this->,æ— æ³•åŒºåˆ†å“ªä¸ªageæ˜¯ä¼ å…¥çš„ï¼Œå“ªä¸ªæ˜¯å¯¹è±¡çš„
}

int main()
{
	Per person(20);
	cout<<person.age<<endl; //è‹¥æ— this->,è¾“å‡ºçš„ä¸æ˜¯20
	return 0; 
} 
```

```cpp
#include "iostream"

using namespace std; 

class Per{
public: 
	int age;
	Per(int);
	Per& fuc(int age){  //å¦‚æœä¸åŠ &ï¼Œç»“æœä¼šç¼–ç¨‹30
		this->age += age;
		return *this;  //thisæŒ‡å‘è°ƒç”¨thisçš„å¯¹è±¡ï¼Œ*thisä»£è¡¨å¯¹è±¡æœ¬èº« 
	} 
};

Per::Per(int age){
	this->age = age;
}

int main()
{
	Per person(20);
	person.fuc(10).fuc(10).fuc(10); //è¾“å‡º50 
	cout<<person.age<<endl;
	return 0; 
} 
```

å¯ä»¥ä½¿ç”¨ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°ï¼Œä½†æ˜¯è¯¥æˆå‘˜å‡½æ•°ä¸èƒ½è®¿é—®æˆå‘˜å˜é‡
```cpp
Person::fu1(){cout<<"Hello!"<<endl;}
Person::fu2(){cout<<age<<endl;}  //ç¼–è¯‘å™¨æŠŠageè§£é‡Šä¸ºthis->age

Person* p = NULL;
p->fuc1();//æ— é—®é¢˜
p->fuc2();//thisä¸ºç©ºï¼Œè®¿é—®ä¸åˆ°age
```
## å¸¸å‡½æ•°ã€å¸¸å¯¹è±¡ã€mutable
**å¸¸å‡½æ•°**ï¼š
- ä¸å¯ä¿®æ”¹æˆå‘˜å±æ€§
- å¯ä¿®æ”¹mutableå±æ€§
**å¸¸å¯¹è±¡**ï¼š
- åªèƒ½è°ƒç”¨å¸¸å‡½æ•°

```cpp
#include "iostream"

using namespace std; 

class Per{
public: 
	int m_age = 1;
	mutable int m_mood = 1;
	void fuc() const //æ³¨æ„constçš„ä½ç½® 
	{
		//m_age = 5;æŠ¥é”™ï¼Œä¸èƒ½ä¿®æ”¹ 
	} 
	void fuc2() const //æ³¨æ„constçš„ä½ç½® 
	{
		m_mood = 5;//å¯ä»¥ä¿®æ”¹mutable 
	} 
	void fuc3(){}
};


int main()
{
	Per person;
	const Per per;//å®šä¹‰constå¯¹è±¡æ—¶ï¼Œå±æ€§å¿…é¡»åˆå§‹åŒ– 
	
	person.fuc(); 
	person.fuc2();
	
//	per.fuc3(); æŠ¥é”™ï¼Œconstå¯¹è±¡åªèƒ½è°ƒç”¨constå‡½æ•° 
	return 0; 
} 
```
## å‹å…ƒ
è®©ä¸€ä¸ªå‡½æ•°/ç±»ï¼Œè®¿é—®å¦ä¸€ä¸ªç±»ä¸­çš„ç§æœ‰æˆå‘˜
### å…¨å±€å‡½æ•°åšå‹å…ƒ
```cpp
#include "iostream"
#include<string>
using namespace std; 

class Building{
	friend void Goodguy(Building*);  //å‹å…ƒå‡½æ•°ğŸ”´ğŸ”´ğŸ”´
	public:
		Building(){
			m_livingroom = "å®¢å…";
			m_bedroom = "å§å®¤";
		}
		string m_livingroom;
	private:
		string m_bedroom;
};

void Goodguy(Building* b){
	cout<<"å‹å…ƒå‡½æ•°è®¿é—®ï¼š"<<b->m_livingroom<<endl;
	cout<<"å‹å…ƒå‡½æ•°è®¿é—®ï¼š"<<b->m_bedroom<<endl; 
}

int main(){
	Building build;
	Goodguy(&build);
}
å‹å…ƒå‡½æ•°è®¿é—®ï¼šå®¢å…
å‹å…ƒå‡½æ•°è®¿é—®ï¼šå§å®¤
```
### ç±»åšå‹å…ƒ
åŒä¸Šï¼š
åœ¨è¦è®¿é—®çš„ç±»ä¸­åŠ ä¸Š`friend class Goodguy;`
### æˆå‘˜å‡½æ•°åšå‹å…ƒ
åŒä¸Šï¼š
åŠ ä¸Š`friend class_name::function();`
```cpp
class building{
	friend void goodguy::visit2();  //å‹å…ƒæˆå‘˜å¯¹è±¡å‡½æ•°ğŸ”´ğŸ”´ğŸ”´
	private:
		int livingroom;
};
class goodguy{
	public:
		void visit1();  //ä¸å¯è®¿é—®
		void visit2();  //å¯è®¿é—®
};
```
## è¿ç®—ç¬¦é‡è½½
å¯ä»¥ä½œä¸ºç±»çš„æˆå‘˜å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¨å±€å‡½æ•°ï¼Œä¸”æ”¯æŒå‡½æ•°é‡è½½
### åŠ æ³•è¿ç®—ç¬¦
```cpp
#include "iostream"
#include<string>

using namespace std; 

class Per{
	public:
		int a=2;
		int b=3;
		Per operator+(Per &p){      //ğŸ”´ğŸ”´
			Per temp;
			temp.a = this->a+p.a;
			temp.b = this->b+p.b;
			return temp;
		}
};

int main(){
	Per p1;
	Per p2;
	Per p3 = p1+p2;  //ğŸ”´ğŸ”´

	cout<<p3.a<<' '<<p3.b<<endl;	
}
```

```cpp
#include "iostream"
#include<string>

using namespace std; 

class Per{
	public:
		int a=2;
		int b=3;
};

Per operator+(Per &p1,Per &p2){   //ğŸ”´ğŸ”´
	Per temp;
	temp.a = p1.a+p2.a;
	temp.b = p1.b+p2.b;
	return temp;
		}
Per operator+(Per &p1,int a){   //ğŸ”´ğŸ”´
	Per temp;
	temp.a = p1.a+a;
	temp.b = p1.b+a;
	return temp;
}

int main(){
	Per p1;
	Per p2;
	Per p3 = p1+p2;  //4 6
	p3 = p3+5;       //9 11

	cout<<p3.a<<' '<<p3.b<<endl;	
}
```
### å·¦ç§»è¿ç®—ç¬¦
- åªèƒ½ä½¿ç”¨å…¨å±€å‡½æ•°
- coutæ˜¯ostreamå¯¹è±¡ï¼Œä¸æ˜¯å‡½æ•°
```cpp
#include "iostream"
#include<string>
using namespace std; 
class Per{
	public:
		int a=2;
		int b=3;
};
	ostream& operator<<(ostream& shuchu,Per &p){  //ğŸ”´ğŸ”´
	shuchu<<"a="<<p.a<<" b="<<p.b;
	return shuchu;
}
int main(){
	Per p1;
	cout<<p1<<" <--- p1çš„ä¿¡æ¯"<<endl;
}
ç»“æœï¼š
a=2 b=3 <--- p1çš„ä¿¡æ¯<å›è½¦>
```
### é€’å¢è¿ç®—ç¬¦
- ç”¨intåšå ä½ç¬¦åŒºåˆ†å‰ç½®å’Œåç½®
- å‰ç½®è¿”å›å¼•ç”¨
- åç½®è¿”å›å€¼
```cpp
#include "iostream"
#include<string>

using namespace std; 

class Per{
	public:
		int a=2;
		int b=3;
		Per& operator++(){  //åŠ ä¸Š &ğŸ”´ğŸ”´
			a++;
			b++;
			return *this;
		}
		Per operator++(int){   //ä¸åŠ  &ï¼ŒåŠ intå ä½ğŸ”´ğŸ”´
			Per temp = *this;
			a++;
			b++;
			return temp;
		}
};
ostream& operator<<(ostream& shuchu,const Per& p)
{                            //è¦åŠ ä¸ŠconstğŸ”´ğŸ”´
	shuchu<<"a="<<p.a<<" b="<<p.b;
	return shuchu;
}

int main(){
	Per p1;
	cout<<p1<<" <--- p1çš„ä¿¡æ¯"<<endl;	
	cout<<p1++<<" <--- p1çš„ä¿¡æ¯"<<endl;	
	cout<<++p1<<" <--- p1çš„ä¿¡æ¯"<<endl;	
}

```

### èµ‹å€¼è¿ç®—ç¬¦

ç¼–è¯‘å™¨æä¾›äº†ä¸€ä¸ªèµ‹å€¼è¿ç®—ç¬¦é‡è½½ï¼Œå¯¹å±æ€§è¿›è¡Œèµ‹å€¼ï¼Œä½†æ˜¯æµ…æ‹·è´ï¼Œæœ‰é‡å¤é‡Šæ”¾çš„éšæ‚£
```cpp
#include "iostream"
#include<string>

using namespace std; 

class Per{
	public:
		int* m_age; 
		Per(int age){
			m_age = new int(age);
		}
		~Per(){
			if(m_age!=NULL)
			{
				delete m_age;
				m_age = NULL;
			}
		}
};
int main()
{
	Per p1(18);
	Per p2(12);
	p2 = p1;
	cout<<p1.m_age<<":"<<*p1.m_age<<endl;
	cout<<p2.m_age<<":"<<*p2.m_age<<endl;
}
è¾“å‡ºï¼š
0x20de4f16520:18
0x20de4f16520:18
ä¼šæŠ¥é”™ï¼Œå› ä¸ºé‡å¤é‡Šæ”¾m_ageæŒ‡å‘çš„åœ°å€:0x20de4f16520
```

```cpp
#include "iostream"
#include<string>

using namespace std; 

class Per{
	public:
		int* m_age;
		//ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´
		Per& operator=(Per& p){
			if(m_age!=NULL)  //å…ˆåˆ é™¤åŸæ¥åœ°å€ä¸Šçš„æ•°æ®
			{
				delete m_age;
				m_age = NULL;
			}
			m_age=new int(*p.m_age);//è®©æŒ‡é’ˆé‡æ–°æŒ‡å‘å¦å¤–ä¸€ä¸ªå€¼
			return *this;
		}
		//ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´
		Per(int age){
			m_age = new int(age);
		}
		~Per(){
			if(m_age!=NULL)
			{
				delete m_age;
				m_age = NULL;
			}
		}
};
int main()
{
	Per p1(18);
	Per p2(12);
	p2 = p1;
	cout<<p1.m_age<<":"<<*p1.m_age<<endl;
	cout<<p2.m_age<<":"<<*p2.m_age<<endl;
}
0x1e2873f6520:18
0x1e2873f6540:18
```
### å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦é‡è½½

å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦é‡è½½å°±æ˜¯ ()ï¼Œé‡è½½åç§°ä¸º**ä»¿å‡½æ•°**
```cpp
#include<iostream>
#include<string>
using namespace std;
class pri{
public:
	void operator()(string s){
		cout<<s<<endl;
	}
};
class add{
public:
	int operator()(int a,int b){
		return a+b;
	}
};
int main(void){
	pri print;
	print("Hello world!");  //ä½¿ç”¨ä»¿å‡½æ•°ğŸ”´ğŸ”´
	print("1+2çš„å€¼ä¸ºï¼š");
	cout<<add()(1,2)<<endl;  //åŒ¿åå¯¹è±¡ä»¿å‡½æ•°ğŸ”´ğŸ”´
}
```

# ç»§æ‰¿

**è¯­æ³•**ï¼š
`class å­ç±»:ç»§æ‰¿æ–¹å¼ çˆ¶ç±»{};`

## ç»§æ‰¿æ–¹å¼
![[Pasted image 20251125162310.png]]
çˆ¶ç±»ä¸­æ‰€æœ‰éé™æ€æˆå‘˜éƒ½è¢«ç»§æ‰¿ï¼ŒåŒ…æ‹¬å­ç±»ä¸å¯è®¿é—®çš„çˆ¶ç±»privateæˆå‘˜

## æ„é€ ææ„é¡ºåº
æ„é€ æ—¶ï¼šå…ˆçˆ¶ç±» åå­ç±»
ææ„æ—¶ï¼šå…ˆå­ç±» åçˆ¶ç±»

## åŒåå¤„ç†
å­ç±»ä¸­æœ‰åŒåå±æ€§å’Œå‡½æ•°æ—¶ï¼ˆåŒ…æ‹¬é™æ€æˆå‘˜ï¼‰ï¼Œä¼˜å…ˆè°ƒç”¨å­ç±»çš„ï¼Œå¦‚æœåŠ ä½œç”¨åŸŸï¼Œåˆ™ä¼˜å…ˆè°ƒç”¨çˆ¶ç±»çš„
å­ç±»åŒåå‡½æ•°ä¼šé®è”½çˆ¶ç±»ä¸­æ‰€æœ‰åŒåå‡½æ•°ï¼ŒåŒ…æ‹¬é‡è½½çš„
```cpp
class Base{
	public:
		int m_a = 1;
		void m_fuc(){cout<<"base";}
		void m_fuc(int){cout<<"base";}
};
class Son:public Base{
	public:
		int m_a = 2;
		void m_fuc(){cout<<"son";}
};

int main(){
	Son son1;
	son1.m_a  //ä¸º2
	son1.Base::m_a  //ä¸º1
	son1.m_fuc()  //son
	son1.m_fuc(3)  //æŠ¥é”™
	son1.Base::m_fuc(3)  //base
}
```
## å¤šç»§æ‰¿
å®é™…å¼€å‘ä¸­ä¸å»ºè®®ä½¿ç”¨
è¯­æ³•ï¼š
``class å­ç±»:ç»§æ‰¿æ–¹å¼ çˆ¶ç±»1,ç»§æ‰¿æ–¹å¼ çˆ¶ç±»2,ç»§æ‰¿æ–¹å¼ çˆ¶ç±»3`
æœ‰æ—¶æœ‰é‡åç°è±¡ï¼Œè¦åŠ ä½œç”¨åŸŸåŒºåˆ†

## è±å½¢ç»§æ‰¿ï¼ˆé’»çŸ³ç»§æ‰¿ï¼‰
![[Pasted image 20251125165650.png]]
```cpp
#include<iostream>
#include<string>
using namespace std;

class Animal{
	public:
		int age = 10;
};
class Sheep:public Animal{};
class Tuo:public Animal{};
class SheepTuo:public Sheep,public Tuo{};

int main(){
	SheepTuo cute;
	cout<<cute.Sheep::age<<endl;  //10
	cout<<cute.Tuo::age<<endl;    //10
	cout<<cute.age<<endl;    //æŠ¥é”™ï¼Œå› ä¸ºæœ‰ä¸¤ä»½ageæ•°æ®ï¼Œä¸çŸ¥é“ç”¨å“ªä¸ª
}
```

```cpp
#include<iostream>
#include<string>
using namespace std;

class Animal{
	public:
		int age = 10;
};
//ä¸‹é¢çš„å†™æ³•å«åšè™šç»§æ‰¿ï¼ŒAnimalå«åšè™šåŸºç±»
class Sheep:virtual public Animal{};  //ç»§æ‰¿çš„æ˜¯ageçš„æŒ‡é’ˆ
class Tuo:virtual public Animal{};
class SheepTuo:public Sheep,public Tuo{};

int main(){
	SheepTuo cute;
	cout<<cute.Sheep::age<<endl;
	cout<<cute.Tuo::age<<endl;
	cout<<cute.age<<endl;     //10
}
```
# å¤šæ€

### åŸºæœ¬çŸ¥è¯†

| ç±»åˆ«   | ä¾‹å­                | ç¡®å®šå‡½æ•°åœ°å€æ—¶æœŸ |
| ---- | ----------------- | -------- |
| é™æ€å¤šæ€ | å‡½æ•°é‡è½½/è¿ç®—ç¬¦é‡è½½/å¤ç”¨å‡½æ•°å/ | ç¼–è¯‘æœŸ      |
| åŠ¨æ€å¤šæ€ | æ´¾ç”Ÿç±»/è™šå‡½æ•°           | è¿è¡ŒæœŸ      |
**é¦–å…ˆæ³¨æ„**ï¼šC++ä¸­å…è®¸æŒ‡å‘çˆ¶ç±»çš„æŒ‡é’ˆæŒ‡å‘å­ç±»ï¼Œå…è®¸çˆ¶å­å¯¹è±¡è½¬æ¢
å¤šæ€åŸç†ï¼šå­ç±»é‡å†™çˆ¶ç±»è™šå‡½æ•°ï¼Œå­ç±»çš„è™šå‡½æ•°è¡¨å‘ç”Ÿå˜åŒ–
![[Pasted image 20251125175742.png]]
```cpp
#include<iostream>
#include<string>
using namespace std;

class Animal{
	public:
		void speak(){cout<<"åŠ¨ç‰©å«\n";}  //ä½¿ç”¨è™šå‡½æ•°
};
class Sheep:public Animal{
	public:
		void speak()
		{
			cout<<"ç¾Šå«\n";
		}
};
class Tuo:public Animal{
	public:
		void speak()
		{
			cout<<"éª†é©¼å«\n";
		}
};
void test(Animal& ani)
{
	ani.speak();
}
int main(){
	Sheep sh;
	Tuo t;
	test(sh);
	test(t);
}
ç¾Šå«
éª†é©¼å«
```

### çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»
å¤šæ€ä¸­ï¼Œçˆ¶çº§è™šå‡½æ•°çš„å®ç°é€šå¸¸ä¸é‡è¦ï¼Œå› æ­¤å¯ä»¥å°†è™šå‡½æ•°æ”¹ä¸º**çº¯è™šå‡½æ•°**
`virtual è¿”å›ç±»å‹ å‡½æ•°å() = 0`
åªè¦æœ‰ä¸€ä¸ªçº¯è™šå‡½æ•°ï¼Œåˆ™æ¬¡ç±»ä¸º**æŠ½è±¡ç±»**
æŠ½è±¡ç±»ç‰¹ç‚¹ï¼š
- ä¸å¯å®ä¾‹åŒ–å¯¹è±¡ï¼Œä½†æ˜¯èƒ½åˆ›å»ºæŒ‡é’ˆ
- å­ç±»å¿…é¡»é‡å†™çˆ¶çº§çš„çº¯è™šå‡½æ•°ï¼Œå¦åˆ™ä¹Ÿä¸ºæŠ½è±¡ç±»
```cpp
#include<iostream>
using namespace std;

class make_drink{
	public:
		virtual void boil_liquid() = 0;
		virtual void pour() = 0;
		void make_it(){
			boil_liquid();
			pour();
		}
};
class make_coffee:public make_drink{
	public:
		void boil_liquid(){
			cout<<"å€’å…¥çƒ­æ°´"<<endl;
		}
		void pour(){
			cout<<"å€’å…¥å’–å•¡æ¯"<<endl;
		}
};
class make_tea:public make_drink{
	public:
		void boil_liquid(){
			cout<<"å€’å…¥å¼€æ°´"<<endl;
		}
		void pour(){
			cout<<"å€’å…¥èŒ¶æ¯"<<endl;
		}
};
void work(make_drink* ma){
	ma->make_it();
	delete ma;
}

int main(){
	work(new make_coffee);
	work(new make_tea);
}
```
### è™šææ„å’Œçº¯è™šææ„
ä¸¤è€…éƒ½éœ€è¦å£°æ˜å’Œå®ç°ï¼ŒåŒºåˆ«æ˜¯åè€…ä¸å¯å®ä¾‹åŒ–å¯¹è±¡ï¼ˆæ˜¯æŠ½è±¡ç±»ï¼‰
å¯ä»¥é€šè¿‡çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡ï¼Œç„¶åææ„çˆ¶ç±»
å¦‚æœå­ç±»æ²¡æœ‰å †åŒºæ•°æ®ï¼Œåˆ™ä¸ç”¨å†™è™šææ„æˆ–çº¯è™šææ„
```cpp
class Base {
public:
    virtual ~Base() {
        std::cout << "Base destructor" << std::endl;
    }
};
class Derived : public Base {
public:
    ~Derived() override {
        std::cout << "Derived destructor" << std::endl;
    }
};

int main() {
    Base* ptr = new Derived();
    delete ptr; // è°ƒç”¨Derivedçš„ææ„å‡½æ•°ï¼Œç„¶åè°ƒç”¨Baseçš„ææ„å‡½æ•°
    return 0;
}
```

```cpp
class AbstractBase {
public:
    virtual ~AbstractBase() = 0;
};
AbstractBase::~AbstractBase() {
    std::cout << "AbstractBase destructor" << std::endl;
}
class DerivedFromAbstract : public AbstractBase {
public:
    ~DerivedFromAbstract() override {
        std::cout << "DerivedFromAbstract destructor" << std::endl;
    }
};

int main() {
    AbstractBase* ptr = new DerivedFromAbstract();
    delete ptr; // è°ƒç”¨DerivedFromAbstractçš„ææ„å‡½æ•°ï¼Œç„¶åè°ƒç”¨AbstractBaseçš„ææ„å‡½æ•°
    return 0;
}
```